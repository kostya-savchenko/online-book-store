- changeSet:
    id: 20-refactor-shopping-cart-primary-key
    author: ksavchenko
    preConditions:
      - tableExists:
          tableName: shopping_carts
      - columnExists:
          tableName: shopping_carts
          columnName: id
    changes:
      - dropPrimaryKey:
          tableName: shopping_carts
      - dropColumn:
          tableName: shopping_carts
          columnName: id
      - addPrimaryKey:
          columnNames: user_id
          tableName: shopping_carts
          constraintName: pk_shopping_carts_user_id
    rollback:
      - addColumn:
          tableName: shopping_carts
          columns:
            - column:
                name: id
                type: BIGINT
                autoIncrement: true
      - dropPrimaryKey:
          tableName: shopping_carts
      - addPrimaryKey:
          tableName: shopping_carts
          columnNames: id
          constraintName: pk_shopping_carts_id
